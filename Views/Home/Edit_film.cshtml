@model Archive_of_views.Models.Film
@{
    ViewBag.Title = "Edit_film";

}
@using Archive_of_views.Models;


<h2>Edit_film</h2>


<div>
    <div></div>
@if (Model == null)
{
   @Html.Action("List_view_partial", "Home", new { what = "Film", id = ViewBag.person_id, mode = "Edit_film" })
}
    @if (Model != null)
    {

            <div>
                @using (Html.BeginForm("Edit_film", "Home"))
                {
                <div class="Film_view_left_all_block div_inline_block">
                    <div class="Film_view_name_film_lvl_1">
                        <div class="Film_view_name_film div_inline_block">
                            <h1>@Html.EditorFor(x1=>x1.Name)</h1>

                        </div>
                        <div class="Film_view_looked_img_lvl1 div_inline_block" id="Film_view_looked_replace_id">@Html.Action("Edit_looked", "Home", new { what = "Film", id = Model.Id })</div>



                    </div>
                    <div>@Html.EditorFor(x1 => x1.Second_name) </div>
                    <div>@Html.Label("Авторы:") @Html.EditorFor(x1 => x1.Author_name)</div>
                    <hr />
                    <div>@Html.Label("Фильм в серии номер:") @Html.EditorFor(x1 => x1.Current_num_film) </div>
                    <div class="Film_view_opinion">
                        <div>@Html.Label("Ваш комментарий:")</div>
                        <div>@Html.EditorFor(x1 => x1.Comment) </div>
                        <hr />
                        <div><h1>@Html.EditorFor(x1 => x1.Mark)/100</h1></div>
                    </div>
                </div>
                
                <input type="submit" class="submit" value="Сохранить" />
                }
                <div class="Film_view_right_all_block div_inline_block">

                    <div>
                        @if (ViewBag.Image != null)
                        {
                            <div class="Film_view_image_film" style="background:url( data:image/jpeg;base64,@Convert.ToBase64String(ViewBag.Image)) no-repeat;background-size: cover;"></div>


                        }
                        @if (ViewBag.Image == null)
                        {
                            <div class="Film_view_image_film" style="background:url(/Content/images/empty_img.PNG) no-repeat;background-size: cover;"></div>

                        }

                    </div>
                    @using (Html.BeginForm("Add_new_image", "Home", FormMethod.Post, new { enctype = "multipart/form-data" }))
                    {
                        @Html.Hidden("from", "Film")
                        @Html.Hidden("id", Model.Id)


                        <input type="file" name="uploadImage[0]" />
                        <input type="submit" class="submit" value="Поделиться" />
                    }
                </div>
            </div>


                        

       










    }




</div>

